<!-- Modal Minha Carteira - Layout Profissional -->
<div id="wallet-modal" class="modal">
  <div class="modal-content wallet-modal-content">
    <div class="modal-header wallet-header">
      <div class="wallet-title-section">
        <h2>üíº Minha Carteira</h2>
        <span class="wallet-subtitle">Posi√ß√µes em Tempo Real</span>
      </div>
      <span class="close" onclick="closeWalletModal()">&times;</span>
    </div>
    
    <div class="modal-body wallet-body">
      <!-- Resumo da Carteira -->
      <div class="wallet-summary">
        <div class="summary-cards">
          <div class="summary-card total-value">
            <div class="card-icon">üí∞</div>
            <div class="card-content">
              <span class="card-label">Valor Total</span>
              <span class="card-value" id="modalValorTotal">R$ 0,00</span>
            </div>
          </div>
          
          <div class="summary-card total-assets">
            <div class="card-icon">üìä</div>
            <div class="card-content">
              <span class="card-label">Ativos</span>
              <span class="card-value" id="modalTotalAtivos">0</span>
            </div>
          </div>
          
          <div class="summary-card total-positions">
            <div class="card-icon">üìà</div>
            <div class="card-content">
              <span class="card-label">Posi√ß√µes</span>
              <span class="card-value" id="modalTotalPosicoes">0</span>
            </div>
          </div>
          
          <div class="summary-card performance">
            <div class="card-icon">‚ö°</div>
            <div class="card-content">
              <span class="card-label">Performance</span>
              <span class="card-value performance-value" id="modalPerformance">+0,00%</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Conte√∫do da Carteira -->
      <div class="wallet-content">
        <!-- Estado Vazio -->
        <div id="modalPortfolioEmpty" class="portfolio-empty" style="display: none;">
          <div class="empty-state">
            <div class="empty-icon">üìä</div>
            <h3>Carteira Vazia</h3>
            <p>Voc√™ ainda n√£o possui ativos em sua carteira.</p>
            <p>Comece investindo em suas primeiras a√ß√µes!</p>
            <button class="btn-start-investing" onclick="closeWalletModal()">
              Come√ßar a Investir
            </button>
          </div>
        </div>

        <!-- Tabela de Posi√ß√µes -->
        <div id="modalWalletTable" class="wallet-table-container" style="display: none;">
          <div class="table-header">
            <h3>Posi√ß√µes Atuais</h3>
            <div class="table-controls">
              <button class="btn-export" onclick="exportarCarteiraJSON()">
                <span class="btn-icon">üìÑ</span>
                JSON
              </button>
              <button class="btn-export" onclick="exportarCarteira()">
                <span class="btn-icon">üìä</span>
                XLSX
              </button>
              <button class="btn-export" onclick="abrirRelatorioOrdens()">
                <span class="btn-icon">üìã</span>
                Relat√≥rio de Ordens
              </button>
            </div>
          </div>
          
          <div class="table-wrapper">
            <table id="modalCarteira" class="wallet-table">
              <thead>
                <tr>
                  <th class="asset-col">Ativo</th>
                  <th class="quantity-col">Qtd</th>
                  <th class="price-col">Pre√ßo Atual</th>
                  <th class="total-col">Valor Total</th>
                  <th class="change-col">Varia√ß√£o</th>
                  <th class="weight-col">Peso</th>
                  <th class="actions-col">A√ß√µes</th>
                </tr>
              </thead>
              <tbody>
                <!-- Dados ser√£o inseridos dinamicamente -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Gr√°fico de Aloca√ß√£o -->
      <div class="allocation-chart-container" id="allocationChartContainer" style="display: none;">
        <div class="chart-header">
          <h3>Aloca√ß√£o da Carteira</h3>
          <div class="chart-controls">
            <button class="chart-toggle active" data-type="pie">Pizza</button>
            <button class="chart-toggle" data-type="bar">Barras</button>
          </div>
        </div>
        <div class="chart-wrapper">
          <canvas id="allocationChart" width="400" height="200"></canvas>
        </div>
      </div>
    </div>

    <!-- Footer do Modal -->
    <div class="modal-footer wallet-footer">
      <div class="footer-info">
        <span class="last-update">√öltima atualiza√ß√£o: <span id="walletLastUpdate">--:--:--</span></span>
      </div>
      <div class="footer-actions">
        <button class="btn-secondary" onclick="closeWalletModal()">Fechar</button>
        <button class="btn-primary" onclick="atualizarModalCarteira()">
          <span class="btn-icon">üîÑ</span>
          Atualizar
        </button>
      </div>
    </div>
  </div>
</div>



<!-- Modal Relat√≥rio de Ordens -->
<div id="relatorio-ordens-modal" class="modal">
  <div class="modal-content wallet-modal-content">
    <div class="modal-header wallet-header">
      <div class="wallet-title-section">
        <h2>üìã Relat√≥rio de Ordens</h2>
        <span class="wallet-subtitle">Todas as ordens enviadas</span>
      </div>
      <span class="close" onclick="fecharRelatorioOrdens()">&times;</span>
    </div>
    
    <div class="modal-body wallet-body">
      <!-- Resumo das Ordens -->
      <div class="wallet-summary">
        <div class="summary-cards">
          <div class="summary-card total-value">
            <div class="card-icon">üìä</div>
            <div class="card-content">
              <span class="card-label">Total de Ordens</span>
              <span class="card-value" id="totalOrdens">0</span>
            </div>
          </div>
          
          <div class="summary-card total-assets">
            <div class="card-icon">‚úÖ</div>
            <div class="card-content">
              <span class="card-label">Executadas</span>
              <span class="card-value" id="ordensExecutadas">0</span>
            </div>
          </div>
          
          <div class="summary-card total-positions">
            <div class="card-icon">‚è≥</div>
            <div class="card-content">
              <span class="card-label">Pendentes</span>
              <span class="card-value" id="ordensPendentes">0</span>
            </div>
          </div>
          
          <div class="summary-card performance">
            <div class="card-icon">‚ùå</div>
            <div class="card-content">
              <span class="card-label">Canceladas</span>
              <span class="card-value" id="ordensCanceladas">0</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Controles de Exporta√ß√£o -->
      <div class="wallet-table-container">
        <div class="table-header">
          <h3>Exportar Relat√≥rio</h3>
          <div class="table-controls">
            <button class="btn-export" onclick="exportarOrdensJSON()">
              <span class="btn-icon">üìÑ</span>
              Exportar JSON
            </button>
            <button class="btn-export" onclick="exportarOrdensXLSX()">
              <span class="btn-icon">üìä</span>
              Exportar XLSX
            </button>
          </div>
        </div>
        
        <!-- Tabela de Ordens -->
        <div class="table-wrapper">
          <table id="tabelaOrdens" class="wallet-table">
            <thead>
              <tr>
                <th class="asset-col">Data/Hora</th>
                <th class="asset-col">Ativo</th>
                <th class="quantity-col">Tipo</th>
                <th class="quantity-col">Qtd</th>
                <th class="price-col">Pre√ßo</th>
                <th class="total-col">Valor Total</th>
                <th class="change-col">Status</th>
              </tr>
            </thead>
            <tbody>
              <!-- Dados ser√£o inseridos dinamicamente -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Footer do Modal -->
    <div class="modal-footer wallet-footer">
      <div class="footer-info">
        <span class="last-update">√öltima atualiza√ß√£o: <span id="ordensLastUpdate">--:--:--</span></span>
      </div>
      <div class="footer-actions">
        <button class="btn-secondary" onclick="fecharRelatorioOrdens()">Fechar</button>
        <button class="btn-primary" onclick="atualizarRelatorioOrdens()">
          <span class="btn-icon">üîÑ</span>
          Atualizar
        </button>
      </div>
    </div>
  </div>
</div>

